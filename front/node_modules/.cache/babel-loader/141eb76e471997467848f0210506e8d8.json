{"ast":null,"code":"const URL_API = 'http://localhost:3333';\n\nasync function findByID(idJ) {\n  return fetch(`${URL_API}/api/user/${idJ}`).then(response => response.json());\n}\n\nasync function login(_ref) {\n  let {\n    mail,\n    pass\n  } = _ref;\n  return fetch(`${URL_API}/api/user/login`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'auth-token': localStorage.getItem('token')\n    },\n    body: JSON.stringify({\n      mail: mail,\n      pass: pass\n    })\n  }).then(response => response.json()).then(data => {\n    console.log('%cuser.services.js line:21 data', 'color: #007acc;', data);\n\n    if (data.token) {\n      localStorage.setItem('token', data.token);\n      localStorage.setItem('user', JSON.stringify(data.user));\n    }\n  });\n}\n\nexport { findByID, login };","map":{"version":3,"names":["URL_API","findByID","idJ","fetch","then","response","json","login","mail","pass","method","headers","localStorage","getItem","body","JSON","stringify","data","console","log","token","setItem","user"],"sources":["C:/xampp814/htdocs/tp2-apphib/front/src/services/user.services.js"],"sourcesContent":["const URL_API = 'http://localhost:3333'\r\n\r\nasync function findByID(idJ) {\r\n    return fetch(`${URL_API}/api/user/${idJ}`)\r\n        .then(response => response.json())   \r\n}\r\n\r\nasync function login({mail, pass}) {\r\n    return fetch(`${URL_API}/api/user/login`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'auth-token': localStorage.getItem('token')\r\n        },\r\n        body: JSON.stringify({\r\n            mail: mail,\r\n            pass: pass\r\n        })\r\n    })\r\n    .then(response => response.json())\r\n    .then(data => {\r\n        console.log('%cuser.services.js line:21 data', 'color: #007acc;', data);\r\n        if (data.token) {\r\n            localStorage.setItem('token', data.token);\r\n            localStorage.setItem('user', JSON.stringify(data.user));\r\n        }\r\n    })\r\n}\r\n\r\n\r\nexport {  \r\n    findByID,\r\n    login\r\n}"],"mappings":"AAAA,MAAMA,OAAO,GAAG,uBAAhB;;AAEA,eAAeC,QAAf,CAAwBC,GAAxB,EAA6B;EACzB,OAAOC,KAAK,CAAE,GAAEH,OAAQ,aAAYE,GAAI,EAA5B,CAAL,CACFE,IADE,CACGC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADf,CAAP;AAEH;;AAED,eAAeC,KAAf,OAAmC;EAAA,IAAd;IAACC,IAAD;IAAOC;EAAP,CAAc;EAC/B,OAAON,KAAK,CAAE,GAAEH,OAAQ,iBAAZ,EAA8B;IACtCU,MAAM,EAAE,MAD8B;IAEtCC,OAAO,EAAE;MACL,gBAAgB,kBADX;MAEL,cAAcC,YAAY,CAACC,OAAb,CAAqB,OAArB;IAFT,CAF6B;IAMtCC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;MACjBR,IAAI,EAAEA,IADW;MAEjBC,IAAI,EAAEA;IAFW,CAAf;EANgC,CAA9B,CAAL,CAWNL,IAXM,CAWDC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAXX,EAYNF,IAZM,CAYDa,IAAI,IAAI;IACVC,OAAO,CAACC,GAAR,CAAY,iCAAZ,EAA+C,iBAA/C,EAAkEF,IAAlE;;IACA,IAAIA,IAAI,CAACG,KAAT,EAAgB;MACZR,YAAY,CAACS,OAAb,CAAqB,OAArB,EAA8BJ,IAAI,CAACG,KAAnC;MACAR,YAAY,CAACS,OAAb,CAAqB,MAArB,EAA6BN,IAAI,CAACC,SAAL,CAAeC,IAAI,CAACK,IAApB,CAA7B;IACH;EACJ,CAlBM,CAAP;AAmBH;;AAGD,SACIrB,QADJ,EAEIM,KAFJ"},"metadata":{},"sourceType":"module"}