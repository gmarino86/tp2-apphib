{"ast":null,"code":"const URL_API = \"http://localhost:3333\";\n\nasync function find() {\n  if (localStorage.getItem(\"user\")) {\n    const user_id = JSON.parse(localStorage.getItem(\"user\"))._id;\n\n    return fetch(`${URL_API}/api/participantes`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"auth-token\": localStorage.getItem(\"token\"),\n        user_id: user_id\n      }\n    }).then(response => response.json()).catch(error => console.log(error));\n  } else {\n    window.location.href = \"/login\";\n  }\n}\n\nasync function findByEventId(evento_id) {\n  return fetch(`${URL_API}/api/participantes/evento/${evento_id}`, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"auth-token\": localStorage.getItem(\"token\")\n    }\n  }).then(response => response.json()).catch(error => console.log(error));\n}\n\nasync function participacion(evento_id, estado) {\n  if (localStorage.getItem(\"user\")) {\n    return fetch(`${URL_API}/api/participantes/${evento_id}`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"auth-token\": localStorage.getItem(\"token\")\n      },\n      body: JSON.stringify({\n        user_id: JSON.parse(localStorage.getItem(\"user\"))._id,\n        estado: estado\n      })\n    }).then(response => response.json()).catch(error => console.log(error));\n  } else {\n    window.location.href = \"/login\";\n  }\n}\n\nasync function addContactToEvent(friend_id) {\n  if (localStorage.getItem(\"user\")) {\n    return fetch(`${URL_API}/api/participantes/${evento_id}`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"auth-token\": localStorage.getItem(\"token\")\n      },\n      body: JSON.stringify({\n        friend_id: friend_id,\n        estado: 0\n      })\n    }).then(response => response.json()).catch(error => console.log(error));\n  } else {\n    window.location.href = \"/login\";\n  }\n}\n\nexport { find, findByEventId, participacion };","map":{"version":3,"names":["URL_API","find","localStorage","getItem","user_id","JSON","parse","_id","fetch","method","headers","then","response","json","catch","error","console","log","window","location","href","findByEventId","evento_id","participacion","estado","body","stringify","addContactToEvent","friend_id"],"sources":["C:/xampp814/htdocs/tp2-apphib/front/src/services/participantes.services.js"],"sourcesContent":["const URL_API = \"http://localhost:3333\";\r\n\r\nasync function find() {\r\n  if (localStorage.getItem(\"user\")) {\r\n    const user_id = JSON.parse(localStorage.getItem(\"user\"))._id;\r\n    return fetch(`${URL_API}/api/participantes`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"auth-token\": localStorage.getItem(\"token\"),\r\n        user_id: user_id,\r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      .catch((error) => console.log(error));\r\n  } else {\r\n    window.location.href = \"/login\";\r\n  }\r\n}\r\n\r\nasync function findByEventId(evento_id) {\r\n    return fetch(`${URL_API}/api/participantes/evento/${evento_id}`, {\r\n    method: \"GET\",\r\n    headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"auth-token\": localStorage.getItem(\"token\"),\r\n    },\r\n    })\r\n    .then((response) => response.json())\r\n    .catch((error) => console.log(error));\r\n\r\n}\r\n\r\nasync function participacion(evento_id, estado) {\r\n  if (localStorage.getItem(\"user\")) {\r\n    return fetch(`${URL_API}/api/participantes/${evento_id}`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"auth-token\": localStorage.getItem(\"token\"),\r\n      },\r\n      body: JSON.stringify({\r\n        user_id: JSON.parse(localStorage.getItem(\"user\"))._id,\r\n        estado: estado\r\n      }),\r\n    })\r\n      .then((response) => response.json())\r\n      .catch((error) => console.log(error));\r\n  } else {\r\n    window.location.href = \"/login\";\r\n  }\r\n}\r\n\r\nasync function addContactToEvent(friend_id) {\r\n  if (localStorage.getItem(\"user\")) {\r\n    return fetch(`${URL_API}/api/participantes/${evento_id}`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"auth-token\": localStorage.getItem(\"token\"),\r\n      },\r\n      body: JSON.stringify({\r\n        friend_id: friend_id,\r\n        estado: 0\r\n      }),\r\n    })\r\n    .then((response) => response.json())\r\n    .catch((error) => console.log(error));\r\n  } else {\r\n    window.location.href = \"/login\";\r\n  }  \r\n}\r\n\r\nexport { \r\n  find, \r\n  findByEventId,\r\n  participacion \r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}