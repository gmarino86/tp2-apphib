{"ast":null,"code":"const URL_API = 'http://localhost:3333';\n\nasync function find() {\n  if (localStorage.getItem('user')) {\n    const id_jugador = JSON.parse(localStorage.getItem('user'))._id;\n\n    return fetch(`${URL_API}/api/eventos`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'auth-token': localStorage.getItem('token'),\n        'id-jugador': id_jugador\n      }\n    }).then(response => response.json()).catch(error => console.log(error));\n  } else {\n    window.location.href = \"/login\";\n  }\n}\n\nasync function findByID(id) {\n  return fetch(`${URL_API}/api/eventos/${id}`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      'auth-token': localStorage.getItem('token')\n    }\n  }).then(response => response.json());\n}\n\nasync function create(evento) {\n  return fetch(`${URL_API}/api/eventos`, {\n    method: 'POST',\n    body: JSON.stringify(evento),\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(response => response.json());\n}\n\nasync function participar(id, user) {\n  console.log(id, user);\n  return fetch(`${URL_API}/api/eventos/${id}`, {\n    method: 'PATCH',\n    headers: {\n      'Content-Type': 'application/json',\n      'auth-token': localStorage.getItem('token'),\n      'id-jugador': user\n    }\n  }) // .then(response => response.json())   \n  .then(response => {\n    console.log('%ceventos.services.js line:55 response', 'color: #007acc;', response);\n  });\n}\n\nexport { find, findByID, create, participar };","map":{"version":3,"names":["URL_API","find","localStorage","getItem","id_jugador","JSON","parse","_id","fetch","method","headers","then","response","json","catch","error","console","log","window","location","href","findByID","id","create","evento","body","stringify","participar","user"],"sources":["C:/xampp814/htdocs/tp2-apphib/front/src/services/eventos.services.js"],"sourcesContent":["const URL_API = 'http://localhost:3333'\r\n\r\nasync function find() {\r\n    if(localStorage.getItem('user')){\r\n        const id_jugador = JSON.parse(localStorage.getItem('user'))._id\r\n        return fetch(`${URL_API}/api/eventos`,{\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'auth-token': localStorage.getItem('token'),\r\n                'id-jugador': id_jugador\r\n            }\r\n        })\r\n        .then(response => response.json())\r\n        .catch(error => console.log(error))\r\n    } else {\r\n        window.location.href = \"/login\";\r\n    }\r\n}\r\n\r\nasync function findByID(id) {\r\n    return fetch(`${URL_API}/api/eventos/${id}`, {\r\n        method: 'GET',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'auth-token': localStorage.getItem('token')\r\n        }\r\n    })\r\n    .then(response => response.json())   \r\n}\r\n\r\nasync function create(evento) {\r\n    return fetch(`${URL_API}/api/eventos`, {\r\n        method: 'POST',\r\n        body: JSON.stringify(evento),\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    })\r\n    .then(response => response.json())\r\n}\r\n\r\nasync function participar(id, user ){\r\n    console.log(id, user)\r\n    return fetch(`${URL_API}/api/eventos/${id}`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'auth-token': localStorage.getItem('token'),\r\n            'id-jugador': user\r\n        }\r\n    })\r\n    // .then(response => response.json())   \r\n    .then(response => {\r\n        console.log('%ceventos.services.js line:55 response', 'color: #007acc;', response);\r\n    })\r\n}\r\n\r\nexport {  \r\n    find,\r\n    findByID,\r\n    create,\r\n    participar\r\n}"],"mappings":"AAAA,MAAMA,OAAO,GAAG,uBAAhB;;AAEA,eAAeC,IAAf,GAAsB;EAClB,IAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAH,EAAgC;IAC5B,MAAMC,UAAU,GAAGC,IAAI,CAACC,KAAL,CAAWJ,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,EAAyCI,GAA5D;;IACA,OAAOC,KAAK,CAAE,GAAER,OAAQ,cAAZ,EAA0B;MAClCS,MAAM,EAAE,KAD0B;MAElCC,OAAO,EAAE;QACL,gBAAgB,kBADX;QAEL,cAAcR,YAAY,CAACC,OAAb,CAAqB,OAArB,CAFT;QAGL,cAAcC;MAHT;IAFyB,CAA1B,CAAL,CAQNO,IARM,CAQDC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EARX,EASNC,KATM,CASAC,KAAK,IAAIC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CATT,CAAP;EAUH,CAZD,MAYO;IACHG,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,QAAvB;EACH;AACJ;;AAED,eAAeC,QAAf,CAAwBC,EAAxB,EAA4B;EACxB,OAAOd,KAAK,CAAE,GAAER,OAAQ,gBAAesB,EAAG,EAA9B,EAAiC;IACzCb,MAAM,EAAE,KADiC;IAEzCC,OAAO,EAAE;MACL,gBAAgB,kBADX;MAEL,cAAcR,YAAY,CAACC,OAAb,CAAqB,OAArB;IAFT;EAFgC,CAAjC,CAAL,CAONQ,IAPM,CAODC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAPX,CAAP;AAQH;;AAED,eAAeU,MAAf,CAAsBC,MAAtB,EAA8B;EAC1B,OAAOhB,KAAK,CAAE,GAAER,OAAQ,cAAZ,EAA2B;IACnCS,MAAM,EAAE,MAD2B;IAEnCgB,IAAI,EAAEpB,IAAI,CAACqB,SAAL,CAAeF,MAAf,CAF6B;IAGnCd,OAAO,EAAE;MACL,gBAAgB;IADX;EAH0B,CAA3B,CAAL,CAONC,IAPM,CAODC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAPX,CAAP;AAQH;;AAED,eAAec,UAAf,CAA0BL,EAA1B,EAA8BM,IAA9B,EAAoC;EAChCZ,OAAO,CAACC,GAAR,CAAYK,EAAZ,EAAgBM,IAAhB;EACA,OAAOpB,KAAK,CAAE,GAAER,OAAQ,gBAAesB,EAAG,EAA9B,EAAiC;IACzCb,MAAM,EAAE,OADiC;IAEzCC,OAAO,EAAE;MACL,gBAAgB,kBADX;MAEL,cAAcR,YAAY,CAACC,OAAb,CAAqB,OAArB,CAFT;MAGL,cAAcyB;IAHT;EAFgC,CAAjC,CAAL,CAQP;EARO,CASNjB,IATM,CASDC,QAAQ,IAAI;IACdI,OAAO,CAACC,GAAR,CAAY,wCAAZ,EAAsD,iBAAtD,EAAyEL,QAAzE;EACH,CAXM,CAAP;AAYH;;AAED,SACIX,IADJ,EAEIoB,QAFJ,EAGIE,MAHJ,EAIII,UAJJ"},"metadata":{},"sourceType":"module"}