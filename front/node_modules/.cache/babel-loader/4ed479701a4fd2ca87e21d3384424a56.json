{"ast":null,"code":"const URL_API = 'http://localhost:3333';\n\nasync function find() {\n  if (localStorage.getItem('user')) {\n    const user_id = JSON.parse(localStorage.getItem('user'))._id;\n\n    return fetch(`${URL_API}/api/participantes`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'auth-token': localStorage.getItem('token'),\n        'user_id': user_id\n      }\n    }).then(response => response.json()).catch(error => console.log(error));\n  } else {\n    window.location.href = \"/login\";\n  }\n}\n\nasync function findByEventId(evento_id, cantidad) {\n  if (evento_id) {\n    if (localStorage.getItem('user')) {\n      return fetch(`${URL_API}/api/user/all`, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          'auth-token': localStorage.getItem('token')\n        }\n      }).then(response => response.json()).catch(error => console.log(error));\n    } else {\n      window.location.href = \"/login\";\n    }\n  }\n}\n\nasync function participacion(evento_id, estado) {\n  if (localStorage.getItem('user')) {\n    return fetch(`${URL_API}/api/participantes/${evento_id}`, {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n        'auth-token': localStorage.getItem('token')\n      },\n      body: JSON.stringify({\n        user_id: JSON.parse(localStorage.getItem('user'))._id,\n        estado: estado\n      })\n    }).then(response => response.json()).catch(error => console.log(error));\n  } else {\n    window.location.href = \"/login\";\n  }\n}\n\nasync function noParticipacion(evento_id) {\n  if (localStorage.getItem('user')) {\n    return fetch(`${URL_API}/api/participantes/${evento_id}`, {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n        'auth-token': localStorage.getItem('token')\n      },\n      body: JSON.stringify({\n        user_id: JSON.parse(localStorage.getItem('user'))._id,\n        estado: 0\n      })\n    }).then(response => response.json()).catch(error => console.log(error));\n  } else {\n    window.location.href = \"/login\";\n  }\n}\n\nexport { find, findByEventId, participacion, noParticipacion };","map":{"version":3,"names":["URL_API","find","localStorage","getItem","user_id","JSON","parse","_id","fetch","method","headers","then","response","json","catch","error","console","log","window","location","href","findByEventId","evento_id","cantidad","participacion","estado","body","stringify","noParticipacion"],"sources":["C:/xampp814/htdocs/tp2-apphib/front/src/services/participantes.services.js"],"sourcesContent":["const URL_API = 'http://localhost:3333'\r\n\r\nasync function find() {\r\n    if(localStorage.getItem('user')){\r\n        const user_id = JSON.parse(localStorage.getItem('user'))._id\r\n        return fetch(`${URL_API}/api/participantes`,{\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'auth-token': localStorage.getItem('token'),\r\n                'user_id': user_id\r\n            }\r\n        })\r\n        .then(response => response.json())  \r\n        .catch(error => console.log(error))\r\n    } else {\r\n        window.location.href = \"/login\";\r\n    }\r\n}\r\n\r\nasync function findByEventId(evento_id, cantidad) {\r\n    if(evento_id){\r\n        \r\n        if(localStorage.getItem('user')){\r\n            return fetch(`${URL_API}/api/user/all`,{\r\n                method: 'GET',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'auth-token': localStorage.getItem('token')\r\n                }\r\n            })\r\n            .then(response => response.json())\r\n            .catch(error => console.log(error))\r\n        } else {\r\n            window.location.href = \"/login\";\r\n        }\r\n    }\r\n}\r\n\r\nasync function participacion(evento_id, estado) {\r\n    if(localStorage.getItem('user')){\r\n        return fetch(`${URL_API}/api/participantes/${evento_id}`,{\r\n            method: 'PATCH',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'auth-token': localStorage.getItem('token')\r\n            },\r\n            body: JSON.stringify({\r\n                user_id: JSON.parse(localStorage.getItem('user'))._id,\r\n                estado: estado\r\n            })\r\n        })\r\n        .then(response => response.json())\r\n        .catch(error => console.log(error))\r\n    } else {\r\n        window.location.href = \"/login\";\r\n    }\r\n}\r\n\r\n\r\nasync function noParticipacion(evento_id) {\r\n    if(localStorage.getItem('user')){\r\n        return fetch(`${URL_API}/api/participantes/${evento_id}`,{\r\n            method: 'PATCH',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'auth-token': localStorage.getItem('token')\r\n            },\r\n            body: JSON.stringify({\r\n                user_id: JSON.parse(localStorage.getItem('user'))._id,\r\n                estado: 0\r\n            })\r\n        })\r\n        .then(response => response.json())\r\n        .catch(error => console.log(error))\r\n    } else {\r\n        window.location.href = \"/login\";\r\n    }\r\n}\r\n\r\nexport {\r\n    find,\r\n    findByEventId,\r\n    participacion,\r\n    noParticipacion\r\n}"],"mappings":"AAAA,MAAMA,OAAO,GAAG,uBAAhB;;AAEA,eAAeC,IAAf,GAAsB;EAClB,IAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAH,EAAgC;IAC5B,MAAMC,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAWJ,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,EAAyCI,GAAzD;;IACA,OAAOC,KAAK,CAAE,GAAER,OAAQ,oBAAZ,EAAgC;MACxCS,MAAM,EAAE,KADgC;MAExCC,OAAO,EAAE;QACL,gBAAgB,kBADX;QAEL,cAAcR,YAAY,CAACC,OAAb,CAAqB,OAArB,CAFT;QAGL,WAAWC;MAHN;IAF+B,CAAhC,CAAL,CAQNO,IARM,CAQDC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EARX,EASNC,KATM,CASAC,KAAK,IAAIC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CATT,CAAP;EAUH,CAZD,MAYO;IACHG,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,QAAvB;EACH;AACJ;;AAED,eAAeC,aAAf,CAA6BC,SAA7B,EAAwCC,QAAxC,EAAkD;EAC9C,IAAGD,SAAH,EAAa;IAET,IAAGpB,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAH,EAAgC;MAC5B,OAAOK,KAAK,CAAE,GAAER,OAAQ,eAAZ,EAA2B;QACnCS,MAAM,EAAE,KAD2B;QAEnCC,OAAO,EAAE;UACL,gBAAgB,kBADX;UAEL,cAAcR,YAAY,CAACC,OAAb,CAAqB,OAArB;QAFT;MAF0B,CAA3B,CAAL,CAONQ,IAPM,CAODC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAPX,EAQNC,KARM,CAQAC,KAAK,IAAIC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CART,CAAP;IASH,CAVD,MAUO;MACHG,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,QAAvB;IACH;EACJ;AACJ;;AAED,eAAeI,aAAf,CAA6BF,SAA7B,EAAwCG,MAAxC,EAAgD;EAC5C,IAAGvB,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAH,EAAgC;IAC5B,OAAOK,KAAK,CAAE,GAAER,OAAQ,sBAAqBsB,SAAU,EAA3C,EAA6C;MACrDb,MAAM,EAAE,OAD6C;MAErDC,OAAO,EAAE;QACL,gBAAgB,kBADX;QAEL,cAAcR,YAAY,CAACC,OAAb,CAAqB,OAArB;MAFT,CAF4C;MAMrDuB,IAAI,EAAErB,IAAI,CAACsB,SAAL,CAAe;QACjBvB,OAAO,EAAEC,IAAI,CAACC,KAAL,CAAWJ,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,EAAyCI,GADjC;QAEjBkB,MAAM,EAAEA;MAFS,CAAf;IAN+C,CAA7C,CAAL,CAWNd,IAXM,CAWDC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAXX,EAYNC,KAZM,CAYAC,KAAK,IAAIC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAZT,CAAP;EAaH,CAdD,MAcO;IACHG,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,QAAvB;EACH;AACJ;;AAGD,eAAeQ,eAAf,CAA+BN,SAA/B,EAA0C;EACtC,IAAGpB,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAH,EAAgC;IAC5B,OAAOK,KAAK,CAAE,GAAER,OAAQ,sBAAqBsB,SAAU,EAA3C,EAA6C;MACrDb,MAAM,EAAE,OAD6C;MAErDC,OAAO,EAAE;QACL,gBAAgB,kBADX;QAEL,cAAcR,YAAY,CAACC,OAAb,CAAqB,OAArB;MAFT,CAF4C;MAMrDuB,IAAI,EAAErB,IAAI,CAACsB,SAAL,CAAe;QACjBvB,OAAO,EAAEC,IAAI,CAACC,KAAL,CAAWJ,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,EAAyCI,GADjC;QAEjBkB,MAAM,EAAE;MAFS,CAAf;IAN+C,CAA7C,CAAL,CAWNd,IAXM,CAWDC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAXX,EAYNC,KAZM,CAYAC,KAAK,IAAIC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAZT,CAAP;EAaH,CAdD,MAcO;IACHG,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,QAAvB;EACH;AACJ;;AAED,SACInB,IADJ,EAEIoB,aAFJ,EAGIG,aAHJ,EAIII,eAJJ"},"metadata":{},"sourceType":"module"}